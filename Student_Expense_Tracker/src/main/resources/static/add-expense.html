<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Add Expense</title>
    <style>
        /* Your CSS is perfect, no changes needed */
        body {
          font-family: Arial, sans-serif;
          background: #f4f9fb;
          margin: 0;
          padding: 0;
        }
        .container {
          max-width: 400px;
          margin: 80px auto;
          padding: 30px;
          background: #fff;
          border-radius: 12px;
          box-shadow: 0 4px 12px rgba(0,0,0,0.1);
          text-align: center;
        }
        h2 {
          margin-bottom: 20px;
          color: #00a8cc;
        }
        form input {
          width: 100%;
          padding: 12px 14px;
          margin: 10px 0;
          border: 1px solid #ddd;
          border-radius: 8px;
          font-size: 15px;
        }
        form input:focus {
          border-color: #00a8cc;
          outline: none;
          box-shadow: 0 0 5px rgba(0,168,204,0.3);
        }
        button {
          width: 100%;
          padding: 12px;
          background: #00a8cc;
          color: #fff;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          cursor: pointer;
          transition: background 0.3s ease;
          margin-top: 10px;
        }
        button:hover {
          background: #0088a8;
        }
        .links {
          margin-top: 15px;
        }
        .links a {
          color: #00a8cc;
          font-weight: bold;
          text-decoration: none;
          margin: 0 10px;
        }
        .links a:hover {
          text-decoration: underline;
        }

           .navbar {
      background: #00a8cc;
      padding: 12px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: white;
      font-weight: bold;
    }

    .navbar a {
      color: white;
      margin-left: 15px;
      text-decoration: none;
      padding: 8px 14px;
      border-radius: 6px;
      transition: background 0.3s;
    }

    .navbar a:hover {
      background: #0088aa;
    }

    .navbar .right {
      display: flex;
      align-items: center;
    }
    </style>
</head>
<body>
<div class="navbar">
    <div class="left">
        Expense Tracker
    </div>
    <div class="right">
        <a href="view-expenses.html">Expenses</a>
        <!--            <a href="add-expense.html">Add Expense</a>-->
        <a href="profile.html">Profile</a>   <!-- Profile button -->
        <a href="login.html" onclick="logout()">Logout</a>
    </div>
</div>
<div class="container">


    <h2>Add Expense</h2>
    <form id="addExpenseForm">
        <input type="text" name="title" placeholder="Title" required>
        <input type="text" name="description" placeholder="Description" required>
        <input type="number" step="0.01" name="amount" placeholder="Amount" required>
        <button type="submit">Add Expense</button>
    </form>

    <div class="links">
        <a href="view-expenses.html">View Expenses</a> |
        <a href="/logout">Logout</a>
    </div>
</div>

<script>

    document.getElementById("addExpenseForm").addEventListener("submit", async e => {
  e.preventDefault();
  const data = {
    title: e.target.title.value,
    description: e.target.description.value,
    amount: parseFloat(e.target.amount.value)
  };

  const res = await fetch("/api/expenses", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data),
    credentials: "include" // keep session cookie
  });

  if (res.ok) {
    window.location.href = "view-expenses.html";
  } else {
    const msg = await res.text();
    alert("Error adding expense: " + msg);
  }
});

</script>
</body>
</html>
